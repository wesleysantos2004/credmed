<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Portal do Médico</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/custom.css">
</head>

<body>

    <!-- Mobile Header -->
    <div class="mobile-header">
        <button class="menu-toggle" onclick="toggleMobileMenu()">
            <i class="bi bi-list"></i>
        </button>
        <h5 class="text-primary fw-bold flex-grow-1 text-center">
            <i class="bi bi-person-badge me-2"></i>Portal Médico
        </h5>
        <div style="width: 40px;"></div>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay"></div>

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="px-3 mb-4">
            <h5 class="text-primary fw-bold mb-0">
                <i class="bi bi-person-badge me-2"></i>Portal Médico
            </h5>
        </div>
        <nav class="nav flex-column">
            <a class="nav-link" href="dashboard.html">
                <i class="bi bi-house-door"></i>
                Dashboard
            </a>
            <a class="nav-link" href="nova-solicitacao.html">
                <i class="bi bi-plus-circle"></i>
                Nova Solicitação
            </a>
            <a class="nav-link" href="lista-solicitacoes.html">
                <i class="bi bi-list-ul"></i>
                Minhas Solicitações
            </a>
            <a class="nav-link active" href="perfil.html">
                <i class="bi bi-person"></i>
                Meu Perfil
            </a>
            <hr class="my-3">
            <a class="nav-link text-danger" href="#" onclick="logout()">
                <i class="bi bi-box-arrow-right"></i>
                Sair
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="mb-4">
            <h2 class="mb-1">Meu Perfil</h2>
            <p class="text-muted mb-0">Gerencie suas informações pessoais e dados bancários</p>
        </div>

        <div class="row">
            <!-- Left Column -->
            <div class="col-lg-8">
                <!-- Dados Pessoais -->
                <div class="card card-custom mb-4">
                    <div class="card-body">
                        <h5 class="card-title mb-4">
                            <i class="bi bi-person me-2"></i>
                            Dados Pessoais
                        </h5>
                        <form id="formDadosPessoais">
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="nome" class="form-label">Nome Completo</label>
                                    <input type="text" class="form-control" id="nome" value="Dr. Fernando Silva"
                                        required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="cpf" class="form-label">CPF</label>
                                    <input type="text" class="form-control" id="cpf" value="123.456.789-00" readonly>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="crm" class="form-label">CRM</label>
                                    <input type="text" class="form-control" id="crm" value="12345/SP" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="especialidade" class="form-label">Especialidade</label>
                                    <input type="text" class="form-control" id="especialidade" value="Clínico Geral"
                                        required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">E-mail</label>
                                    <input type="email" class="form-control" id="email" value="fernando.silva@email.com"
                                        required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="telefone" class="form-label">Telefone</label>
                                    <input type="tel" class="form-control" id="telefone" value="(11) 98765-4321"
                                        required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="dataNascimento" class="form-label">Data de Nascimento</label>
                                    <input type="date" class="form-control" id="dataNascimento" value="1985-05-15"
                                        required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="rg" class="form-label">RG</label>
                                    <input type="text" class="form-control" id="rg" value="12.345.678-9" required>
                                </div>
                            </div>
                            <div class="d-flex gap-2">
                                <button type="submit" class="btn btn-primary">
                                    <i class="bi bi-check-circle me-2"></i>
                                    Salvar Alterações
                                </button>
                                <button type="button" class="btn btn-outline-secondary">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Endereço -->
                <div class="card card-custom mb-4">
                    <div class="card-body">
                        <h5 class="card-title mb-4">
                            <i class="bi bi-geo-alt me-2"></i>
                            Endereço
                        </h5>
                        <form id="formEndereco">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="cep" class="form-label">CEP</label>
                                    <input type="text" class="form-control" id="cep" value="01310-100" required>
                                </div>
                                <div class="col-md-8 mb-3">
                                    <label for="logradouro" class="form-label">Logradouro</label>
                                    <input type="text" class="form-control" id="logradouro" value="Av. Paulista"
                                        required>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <label for="numero" class="form-label">Número</label>
                                    <input type="text" class="form-control" id="numero" value="1000" required>
                                </div>
                                <div class="col-md-5 mb-3">
                                    <label for="complemento" class="form-label">Complemento</label>
                                    <input type="text" class="form-control" id="complemento" value="Apto 501">
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="bairro" class="form-label">Bairro</label>
                                    <input type="text" class="form-control" id="bairro" value="Bela Vista" required>
                                </div>
                                <div class="col-md-8 mb-3">
                                    <label for="cidade" class="form-label">Cidade</label>
                                    <input type="text" class="form-control" id="cidade" value="São Paulo" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="estado" class="form-label">Estado</label>
                                    <select class="form-select" id="estado" required>
                                        <option value="SP" selected>São Paulo</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="MG">Minas Gerais</option>
                                    </select>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-check-circle me-2"></i>
                                Salvar Endereço
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Dados Bancários -->
                <div class="card card-custom mb-4">
                    <div class="card-body">
                        <h5 class="card-title mb-4">
                            <i class="bi bi-bank me-2"></i>
                            Dados Bancários
                        </h5>
                        <form id="formDadosBancarios">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="banco" class="form-label">Banco</label>
                                    <select class="form-select" id="banco" required>
                                        <option value="">Selecione...</option>
                                        <option value="001" selected>Banco do Brasil</option>
                                        <option value="237">Bradesco</option>
                                        <option value="341">Itaú</option>
                                        <option value="033">Santander</option>
                                        <option value="104">Caixa Econômica</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="tipoConta" class="form-label">Tipo de Conta</label>
                                    <select class="form-select" id="tipoConta" required>
                                        <option value="corrente" selected>Conta Corrente</option>
                                        <option value="poupanca">Conta Poupança</option>
                                    </select>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="agencia" class="form-label">Agência</label>
                                    <input type="text" class="form-control" id="agencia" value="1234-5" required>
                                </div>
                                <div class="col-md-5 mb-3">
                                    <label for="conta" class="form-label">Conta</label>
                                    <input type="text" class="form-control" id="conta" value="12345678-9" required>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <label for="digito" class="form-label">Dígito</label>
                                    <input type="text" class="form-control" id="digito" value="1" required>
                                </div>
                                <div class="col-md-12 mb-3">
                                    <label for="chavePix" class="form-label">Chave PIX (Opcional)</label>
                                    <input type="text" class="form-control" id="chavePix"
                                        value="fernando.silva@email.com">
                                    <div class="form-text">Informe sua chave PIX para recebimentos mais rápidos</div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-check-circle me-2"></i>
                                Salvar Dados Bancários
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Segurança -->
                <div class="card card-custom mb-4">
                    <div class="card-body">
                        <h5 class="card-title mb-4">
                            <i class="bi bi-shield-lock me-2"></i>
                            Segurança
                        </h5>
                        <form id="formSenha">
                            <div class="row">
                                <div class="col-md-12 mb-3">
                                    <label for="senhaAtual" class="form-label">Senha Atual</label>
                                    <input type="password" class="form-control" id="senhaAtual" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="novaSenha" class="form-label">Nova Senha</label>
                                    <input type="password" class="form-control" id="novaSenha" required>
                                    <div class="form-text">Mínimo 8 caracteres</div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="confirmarSenha" class="form-label">Confirmar Nova Senha</label>
                                    <input type="password" class="form-control" id="confirmarSenha" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-warning">
                                <i class="bi bi-key me-2"></i>
                                Alterar Senha
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="col-lg-4">
                <!-- Profile Picture -->
                <div class="card card-custom mb-4">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <div class="rounded-circle bg-primary text-white d-inline-flex align-items-center justify-content-center"
                                style="width: 120px; height: 120px; font-size: 3rem;">
                                <i class="bi bi-person-fill"></i>
                            </div>
                        </div>
                        <h5 id="perfilNome">Dr. Fernando Silva</h5>
                        <p class="text-muted mb-3">CRM: <span id="perfilCrm">12345/SP</span></p>
                        <button class="btn btn-outline-primary btn-sm">
                            <i class="bi bi-camera me-2"></i>
                            Alterar Foto
                        </button>
                    </div>
                </div>

                <!-- Limite Card -->
                <div class="card card-custom mb-4">
                    <div class="card-body">
                        <h6 class="card-title mb-3">
                            <i class="bi bi-wallet2 me-2"></i>
                            Limite de Adiantamento
                        </h6>
                        <div class="mb-3">
                            <small class="text-muted d-block">Limite Disponível</small>
                            <h4 class="text-primary mb-0">R$ 4.500,00</h4>
                        </div>
                        <div class="progress mb-2" style="height: 8px;">
                            <div class="progress-bar bg-primary" role="progressbar" style="width: 90%"
                                aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <small class="text-muted">Limite Total: R$ 5.000,00/mês</small>
                    </div>
                </div>

                <!-- Documentos -->
                <div class="card card-custom">
                    <div class="card-body">
                        <h6 class="card-title mb-3">
                            <i class="bi bi-file-earmark-text me-2"></i>
                            Documentos
                        </h6>
                        <div class="list-group list-group-flush">
                            <a href="#"
                                class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-file-earmark-pdf text-danger me-2"></i>
                                    Documento CRM
                                </div>
                                <i class="bi bi-check-circle text-success"></i>
                            </a>
                            <a href="#"
                                class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-file-earmark-pdf text-danger me-2"></i>
                                    Comprovante Residência
                                </div>
                                <i class="bi bi-check-circle text-success"></i>
                            </a>
                            <a href="#"
                                class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="bi bi-file-earmark-pdf text-danger me-2"></i>
                                    Documento Bancário
                                </div>
                                <i class="bi bi-check-circle text-success"></i>
                            </a>
                        </div>
                        <button class="btn btn-sm btn-outline-primary w-100 mt-3">
                            <i class="bi bi-upload me-2"></i>
                            Upload de Documentos
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../assets/js/app.js"></script>

    <script>
        checkAuth('medico');

        // Form handlers
        document.getElementById('formDadosPessoais').addEventListener('submit', function (e) {
            e.preventDefault();
            alert('Dados pessoais salvos com sucesso!');
        });

        document.getElementById('formEndereco').addEventListener('submit', function (e) {
            e.preventDefault();
            alert('Endereço salvo com sucesso!');
        });

        document.getElementById('formDadosBancarios').addEventListener('submit', function (e) {
            e.preventDefault();
            alert('Dados bancários salvos com sucesso!');
        });

        document.getElementById('formSenha').addEventListener('submit', function (e) {
            e.preventDefault();
            const novaSenha = document.getElementById('novaSenha').value;
            const confirmarSenha = document.getElementById('confirmarSenha').value;

            if (novaSenha !== confirmarSenha) {
                alert('As senhas não coincidem!');
                return;
            }

            if (novaSenha.length < 8) {
                alert('A senha deve ter no mínimo 8 caracteres!');
                return;
            }

            alert('Senha alterada com sucesso!');
            this.reset();
        });

        // Load profile data
        const medico = mockData.medico;
        document.getElementById('perfilNome').textContent = medico.nome;
        document.getElementById('perfilCrm').textContent = medico.crm;
    </script>
</body>

</html>